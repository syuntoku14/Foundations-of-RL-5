import{_ as n}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-B8hbqSX6.js";import{b as p,o as r,w as t,g as s,e as g,ac as i,m as d,v as m,x as y,C as l}from"./modules/vue-BIhKzVgg.js";import{I as A}from"./slidev/default-1O3_3uwP.js";import{u as c,f as o}from"./slidev/context-CSGP2dBu.js";import"./modules/unplugin-icons-D4ceLB5J.js";import"./index-Bk7B9Ldq.js";import"./modules/shiki-BYZZHHiG.js";const D="/Foundations-of-RL-5/assets/model-based-exp-Bmx4EaWt.png",f={__name:"model-based.md__slidev_21",setup(E){const{$clicksContext:h,$frontmatter:k}=c();return h.setup(),(B,a)=>{const e=n;return r(),p(A,m(y(l(o)(l(k),20))),{default:t(()=>[a[1]||(a[1]=s("h2",null,[i("実装：モデルベース強化学習とサンプル数"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"N")]),s("annotation",{encoding:"application/x-tex"},"N")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N")])])]),i("の関係")],-1)),a[2]||(a[2]=s("p",null,[i("実際にサンプル数"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"N")]),s("annotation",{encoding:"application/x-tex"},"N")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N")])])]),i("が大きくなると性能が上がるか見てみよう．")],-1)),g(e,d({},{ranges:[]}),{default:t(()=>a[0]||(a[0]=[s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"import"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," matplotlib"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"pyplot "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"as"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," plt")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"Q_star"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," _ "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," value_iteration_q"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mdp"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),s("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 1e-4"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"V_star "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," np"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"max"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"Q_star"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," axis"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  # 真の最適価値関数")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"V_gaps "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," []"),s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  # 最適価値関数とのギャップを保存するリスト")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"for"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," N "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"in"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}}," range"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),s("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 150"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"):")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    _"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," pol_hat "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," model_based_rl"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mdp"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," N"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    V_pol_hat "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," evaluate_policy"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mdp"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," pol_hat"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  # 第２回を思い出して実装しよう．")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    V_gap "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," np"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"max"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"np"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"abs"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"V_star "),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"-"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," V_pol_hat"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"))"),s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  # 最適価値関数とのギャップ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    V_gaps"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"append"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"V_gap"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"plt"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"plot"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"V_gaps"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"plt"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"xlabel"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Sample Size N"),s("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"plt"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"ylabel"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"r"),s("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"$"),s("span",{style:{"--shiki-dark":"#E6CC77","--shiki-light":"#BDA437"}},"\\|"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"V"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"^"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"{"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"\\w"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"idehat{"),s("span",{style:{"--shiki-dark":"#E6CC77","--shiki-light":"#BDA437"}},"\\p"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"i}"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"^\\s"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"tar}_"),s("span",{style:{"--shiki-dark":"#E6CC77","--shiki-light":"#BDA437"}},"\\g"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"amma - V"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"^\\s"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"tar_"),s("span",{style:{"--shiki-dark":"#E6CC77","--shiki-light":"#BDA437"}},"\\g"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"amma"),s("span",{style:{"--shiki-dark":"#E6CC77","--shiki-light":"#BDA437"}},"\\|"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"_"),s("span",{style:{"--shiki-dark":"#E6CC77","--shiki-light":"#BDA437"}},"\\i"),s("span",{style:{"--shiki-dark":"#C4704F","--shiki-light":"#AB5E3F"}},"nfty"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"$"),s("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")])])],-1)])),_:1},16),a[3]||(a[3]=s("figure",{style:{position:"absolute",top:"30%",left:"70%",width:"250px","text-align":"center"}},[s("img",{src:D,alt:"Image description",style:{width:"100%"}}),s("figcaption",{style:{"font-size":"0.8em","word-wrap":"break-word","text-align":"center"}},[s("p",null,[i("👨‍🏫 こんな感じの図が出力されるはず． "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msubsup",null,[s("mi",null,"V"),s("mi",null,"γ"),s("msup",null,[s("mover",{accent:"true"},[s("mi",null,"π"),s("mo",{stretchy:"true"},"^")]),s("mo",null,"⋆")])])]),s("annotation",{encoding:"application/x-tex"},"V^{\\widehat{\\pi}^\\star}_\\gamma")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.2804em","vertical-align":"-0.3831em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8973em"}},[s("span",{style:{top:"-2.453em","margin-left":"-0.2222em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05556em"}},"γ")])]),s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord accent mtight"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6706em"}},[s("span",{style:{top:"-2.7em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")]),s("span",{class:"svg-align",style:{top:"-3.1306em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"mtight",style:{height:"0.24em"}},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"0.24em",viewBox:"0 0 1062 239",preserveAspectRatio:"none"},[s("path",{d:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`})])])])])])])]),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.7633em"}},[s("span",{style:{top:"-2.931em","margin-right":"0.0714em"}},[s("span",{class:"pstrut",style:{height:"2.5em"}}),s("span",{class:"sizing reset-size3 size1 mtight"},[s("span",{class:"mbin mtight"},"⋆")])])])])])])])])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3831em"}},[s("span")])])])])])])])]),i("が"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msubsup",null,[s("mi",null,"V"),s("mi",null,"γ"),s("mo",null,"⋆")])]),s("annotation",{encoding:"application/x-tex"},"V^\\star_\\gamma")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0718em","vertical-align":"-0.3831em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-2.453em","margin-left":"-0.2222em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05556em"}},"γ")])]),s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"⋆")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3831em"}},[s("span")])])])])])])])]),i("に収束している．")])])],-1))]),_:1},16)}}};export{f as default};
